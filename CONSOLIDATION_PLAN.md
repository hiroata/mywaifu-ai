# MyWaifu-AI ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆãƒ»æœ€é©åŒ–è¨ˆç”»

## ğŸ“‹ å®Ÿè¡Œå®Œäº†é …ç›®

### âœ… Phase 1: æœªä½¿ç”¨ä¾å­˜é–¢ä¿‚ã®å‰Šé™¤ (å®Œäº†)

**å‰Šé™¤æ¸ˆã¿ä¾å­˜é–¢ä¿‚:**
- `@auth/prisma-adapter` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `@fontsource/inter` - ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„
- `@hookform/resolvers` - react-hook-formãŒæœªä½¿ç”¨
- `@radix-ui/react-avatar` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `@radix-ui/react-separator` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `@radix-ui/react-slot` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `@radix-ui/react-tabs` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `react-hook-form` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `cmdk` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„

**ä¿æŒã—ãŸé‡è¦ãªä¾å­˜é–¢ä¿‚:**
- `autoprefixer` - PostCSSè¨­å®šã§å¿…è¦ (Tailwind CSSç”¨)
- `postcss` - PostCSSè¨­å®šã§å¿…è¦ (Tailwind CSSç”¨)

**å‰Šé™¤æ¸ˆã¿devDependencies:**
- `@typescript-eslint/eslint-plugin` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„
- `@typescript-eslint/parser` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„  
- `eslint-config-prettier` - ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„

**åŠ¹æœ:**
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚ºå‰Šæ¸›: ç´„45MB
- ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®: 10-15%
- ä¾å­˜é–¢ä¿‚ã®è¤‡é›‘ã•è»½æ¸›

### âœ… Phase 2: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤ (å®Œäº†)

**å‰Šé™¤æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«:**
```
src/app/test-registration/page.tsx       âœ… å‰Šé™¤å®Œäº†
src/app/test-csrf/page.tsx               âœ… å‰Šé™¤å®Œäº†
src/app/test-grok/page.tsx               âœ… å‰Šé™¤å®Œäº†
src/app/test-grok/page_new.tsx           âœ… å‰Šé™¤å®Œäº†
src/app/ai-test/page.tsx                 âœ… å‰Šé™¤å®Œäº†
src/lib/test-config.ts                   âœ… å‰Šé™¤å®Œäº†
src/lib/test-config.d.ts                 âœ… å‰Šé™¤å®Œäº†
src/app/api/test-grok/route.ts           âœ… å‰Šé™¤å®Œäº†
src/app/api/test-generate/route.ts       âœ… å‰Šé™¤å®Œäº†
src/app/api/debug/route.ts               âœ… å‰Šé™¤å®Œäº†
```

**åŠ¹æœ:**
- ãƒ•ã‚¡ã‚¤ãƒ«æ•°å‰Šæ¸›: 10å€‹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯å‰Šæ¸› (æœ¬ç•ªç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆé™¤å»)
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºå‰Šæ¸›: ç´„200KB
- ãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèª: âœ… å®Œäº†

**é‡è¦ãªå­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ:**
- PostCSSè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (postcss.config.js) ã§è¦æ±‚ã•ã‚Œã‚‹ `autoprefixer` ã¨ `postcss` ã¯å¿…é ˆä¾å­˜é–¢ä¿‚
- Tailwind CSSã‚’ä½¿ç”¨ã™ã‚‹Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ã“ã‚Œã‚‰ã®å‰Šé™¤ã«ã‚ˆã‚Š ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹

## ğŸ¯ æ¬¡æœŸå®Ÿè¡Œäºˆå®šé …ç›®

### 2. ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤/çµ±åˆ

**å‰Šé™¤å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« (é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨):**
```
src/app/test-registration/page.tsx
src/app/test-csrf/page.tsx  
src/app/test-grok/page.tsx
src/app/test-grok/page_new.tsx
src/app/ai-test/page.tsx
src/lib/test-config.ts
src/lib/test-config.d.ts
src/app/api/test-grok/route.ts
src/app/api/test-generate/route.ts
src/app/api/debug/route.ts
```

**åŠ¹æœ:**
- ãƒ•ã‚¡ã‚¤ãƒ«æ•°å‰Šæ¸›: 10å€‹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯å‰Šæ¸› (æœ¬ç•ªç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆé™¤å»)
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºå‰Šæ¸›: ç´„200KB

### 3. é¡ä¼¼æ©Ÿèƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ±åˆ

#### 3.1 ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ
**çµ±åˆå¯¾è±¡:**
```
src/lib/validation.ts (ãƒ¡ã‚¤ãƒ³)
src/lib/utils/validation.ts (çµ±åˆå…ˆ)
src/lib/schemas.ts (çµ±åˆå…ˆ)
```

**çµ±åˆå¾Œã®æ§‹é€ :**
```typescript
// src/lib/validation.ts (çµ±åˆç‰ˆ)
export * from './schemas';
export * from './utils/validation-helpers';
```

#### 3.2 èªè¨¼è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®çµ±åˆ
**çµ±åˆå¯¾è±¡:**
```
src/lib/auth.ts (ãƒ¡ã‚¤ãƒ³)
src/lib/auth-config.ts (çµ±åˆå…ˆ)
```

### 4. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æœ€é©åŒ–

#### 4.1 å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹Radix UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ä¿æŒå¯¾è±¡:**
- `@radix-ui/react-accordion` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-checkbox` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-dialog` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-dropdown-menu` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-label` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-popover` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-select` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-slider` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-switch` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿
- `@radix-ui/react-toast` âœ… ä½¿ç”¨ç¢ºèªæ¸ˆã¿

#### 4.2 æœªä½¿ç”¨UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (è¦ç¢ºèª)
```
src/components/ui/avatar.tsx
src/components/ui/separator.tsx
src/components/ui/tabs.tsx
```

### 5. APIæ•´ç†ã¨çµ±åˆ

#### 5.1 ãƒãƒ£ãƒƒãƒˆé–¢é€£APIçµ±åˆ
**ç¾åœ¨:**
```
src/app/api/chat/route.ts
src/app/api/ai/chat/route.ts
```

**çµ±åˆå¾Œ:**
```
src/app/api/chat/
â”œâ”€â”€ route.ts (åŸºæœ¬ãƒãƒ£ãƒƒãƒˆ)
â”œâ”€â”€ ai/route.ts (AIæ©Ÿèƒ½)
â””â”€â”€ conversations/route.ts (ä¼šè©±å±¥æ­´)
```

### 6. ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†ã®çµ±åˆ

#### 6.1 ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ãƒƒã‚¯çµ±åˆ
**ç¾åœ¨:**
```
src/hooks/use-form-data.ts
src/hooks/use-character.ts (ãƒ•ã‚©ãƒ¼ãƒ é–¢é€£ãƒ­ã‚¸ãƒƒã‚¯å«ã‚€)
```

**çµ±åˆæ¡ˆ:**
```typescript
// src/hooks/use-form.ts (çµ±åˆç‰ˆ)
export { useFormData } from './form/use-form-data';
export { useCharacterForm } from './form/use-character-form';
export { useFormValidation } from './form/use-form-validation';
```

## ğŸ“Š æœ€é©åŒ–ã«ã‚ˆã‚‹æ¨å®šåŠ¹æœ

### ãƒ•ã‚¡ã‚¤ãƒ«æ•°å‰Šæ¸›
- **ç¾åœ¨:** ~180ãƒ•ã‚¡ã‚¤ãƒ«
- **æœ€é©åŒ–å¾Œ:** ~155ãƒ•ã‚¡ã‚¤ãƒ«
- **å‰Šæ¸›ç‡:** 14%

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå‰Šæ¸›
- **ä¾å­˜é–¢ä¿‚å‰Šé™¤:** -45MB (node_modules)
- **æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤:** -200KB (ãƒ“ãƒ«ãƒ‰æ¸ˆã¿)
- **ã‚³ãƒ¼ãƒ‰çµ±åˆ:** -50KB (é‡è¤‡å‰Šé™¤)

### ãƒ“ãƒ«ãƒ‰æ™‚é–“æ”¹å–„
- **ä¾å­˜é–¢ä¿‚å‰Šæ¸›:** -10-15%
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°å‰Šæ¸›:** -5-8%
- **ç·æ”¹å–„:** -15-23%

### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§å‘ä¸Š
- **é‡è¤‡ã‚³ãƒ¼ãƒ‰å‰Šé™¤:** çµ±ä¸€ã•ã‚ŒãŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
- **ä¸€è²«æ€§å‘ä¸Š:** ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†ã®æ¨™æº–åŒ–
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š:** ãƒ†ã‚¹ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®é™¤å»

## ğŸš€ å®Ÿè¡Œæ‰‹é †

### ãƒ•ã‚§ãƒ¼ã‚º1: å®‰å…¨ãªå‰Šé™¤ âœ… **å®Œäº†**
1. æœªä½¿ç”¨ä¾å­˜é–¢ä¿‚ã®å‰Šé™¤
2. `npm install` ã§package-lock.jsonæ›´æ–°

### ãƒ•ã‚§ãƒ¼ã‚º2: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ (æ¬¡å›å®Ÿè¡Œ)
1. ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤
2. å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### ãƒ•ã‚§ãƒ¼ã‚º3: ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆ (è¨ˆç”»ä¸­)
1. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ã®çµ±åˆ
2. APIæ§‹é€ ã®æ•´ç†
3. ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†ã®çµ±åˆ

### ãƒ•ã‚§ãƒ¼ã‚º4: æœ€çµ‚æ¤œè¨¼
1. å…¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
2. ãƒ“ãƒ«ãƒ‰æ¤œè¨¼
3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

## ğŸ’¡ ä»Šå¾Œã®æ¨å¥¨äº‹é …

### 1. ã‚³ãƒ¼ãƒ‰å“è³ªã®å‘ä¸Š
- ESLintãƒ«ãƒ¼ãƒ«ã®å†è¨­å®š
- Prettierã¨ã®çµ±åˆ
- TypeScript strict modeæœ‰åŠ¹åŒ–

### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®æ´»ç”¨
- ã‚³ãƒ¼ãƒ‰åˆ†å‰²ã®æœ€é©åŒ–
- ç”»åƒæœ€é©åŒ–ã®å®Ÿè£…

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–
- æœ¬ç•ªç’°å¢ƒã§ã®ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ç„¡åŠ¹åŒ–
- CSRFä¿è­·ã®å¼·åŒ–
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®æœ€é©åŒ–

---

**æ¬¡å›å®Ÿè¡Œé …ç›®:** ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤ (ãƒ•ã‚§ãƒ¼ã‚º2)
**æ¨å®šä½œæ¥­æ™‚é–“:** 30åˆ†
**ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«:** ä½ (ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã§æœ¬ç•ªæ©Ÿèƒ½ã«å½±éŸ¿ãªã—)
